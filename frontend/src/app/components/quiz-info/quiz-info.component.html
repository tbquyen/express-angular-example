<div class="modal-dialog modal-lg my-0">
    <div class="progress">
        <div class="progress-bar progress-bar-striped bg-danger progress-bar-animated" role="progressbar" #progressbar aria-valuemin="0" aria-valuemax="100"></div>
    </div>
</div>

<div *ngIf="!quizInfo?._id" class="position-relative" style="height: 75vh;">
    <div class="position-absolute top-50 start-50 translate-middle">
        <div class="spinner-grow text-primary" style="width: 30rem; height: 30rem;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</div>
<form *ngIf="quizInfo?._id" autocomplete="off" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">
                    <h5>Question {{index}}/{{ quizInfo?.quiz?.numberQuestion }} {{ quizInfo?.category?.name }}({{ quizInfo?.question?.duration }}seconds)</h5>
                    <span>{{ quizInfo?.question?.question }}</span>
                </span>
                <i class="bi bi-question-diamond pointer float-end" *ngIf="quizInfo?.question?.explanation" (click)="isExplanation = !isExplanation"></i>
            </div>
            <div class="modal-body">
                <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="answer" value="A" id="ansA">
                    <label class="form-check-label" for="ansA">{{ quizInfo?.question?.ans1 }}</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="answer" value="B" id="ansB">
                    <label class="form-check-label" for="ansB">{{ quizInfo?.question?.ans2 }}</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="answer" value="C" id="ansC">
                    <label class="form-check-label" for="ansC">{{ quizInfo?.question?.ans3 }}</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" formControlName="answer" value="D" id="ansD">
                    <label class="form-check-label" for="ansD">{{ quizInfo?.question?.ans4 }}</label>
                </div>
                <div class="alert alert-warning alert-dismissible" *ngIf="isExplanation">
                    <span><i class="bi bi-exclamation-circle"></i> {{ quizInfo?.question?.explanation }}</span>
                    <button type="button" class="btn-close" (click)="isExplanation = !isExplanation"></button>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" (click)="onFinish()" class="btn btn-sm btn-primary">Finish</button>
                <button type="reset" class="btn btn-sm btn-secondary">Reset</button>
                <button type="submit" class="btn btn-sm btn-primary">Submit</button>
            </div>
        </div>
    </div>
</form>